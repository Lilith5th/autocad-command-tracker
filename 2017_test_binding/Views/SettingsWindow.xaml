<Window x:Class="_2017_test_binding.Views.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:conv="clr-namespace:_2017_test_binding.Converters"
        Title="Settings" Height="400" Width="500"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TabControl Grid.Row="0">
            <!-- Appearance Tab -->
            <TabItem Header="Appearance">
                <StackPanel Margin="10">
                    <GroupBox Header="Theme" Margin="0,0,0,10">
                        <StackPanel Margin="10">
                            <RadioButton Content="Light Theme" 
                                        IsChecked="{Binding IsDarkTheme, Converter={x:Static conv:InverseBooleanConverter.Instance}, Mode=OneWay}"
                                        Command="{Binding SetLightThemeCommand}"
                                        Margin="0,0,0,5"/>
                            <RadioButton Content="Dark Theme" 
                                        IsChecked="{Binding IsDarkTheme, Mode=OneWay}"
                                        Command="{Binding SetDarkThemeCommand}"/>
                        </StackPanel>
                    </GroupBox>

                    <GroupBox Header="Window Settings" Margin="0,0,0,10">
                        <Grid Margin="10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="50"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                            </Grid.RowDefinitions>

                            <Label Content="Opacity:" Grid.Row="0" Grid.Column="0"/>
                            <Slider Grid.Row="0" Grid.Column="1" 
                                    Minimum="0.1" Maximum="1.0" 
                                    Value="{Binding WindowOpacity}"
                                    TickFrequency="0.1" 
                                    IsSnapToTickEnabled="True"/>
                            <TextBlock Grid.Row="0" Grid.Column="2" 
                                      Text="{Binding WindowOpacity, StringFormat='{}{0:F1}'}"
                                      VerticalAlignment="Center"
                                      HorizontalAlignment="Center"/>

                            <Label Content="Resizable:" Grid.Row="1" Grid.Column="0"/>
                            <CheckBox Grid.Row="1" Grid.Column="1"
                                     IsChecked="{Binding IsResizable}"
                                     VerticalAlignment="Center"/>
                        </Grid>
                    </GroupBox>
                </StackPanel>
            </TabItem>

            <!-- Behavior Tab -->
            <TabItem Header="Behavior">
                <StackPanel Margin="10">
                    <GroupBox Header="Data Management" Margin="0,0,0,10">
                        <Grid Margin="10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                            </Grid.RowDefinitions>

                            <Label Content="Max Stored Values:" Grid.Row="0" Grid.Column="0"/>
                            <TextBox Grid.Row="0" Grid.Column="1" 
                                    Text="{Binding MaxStoredValues}"
                                    VerticalAlignment="Center"/>

                            <Label Content="Track Time Patterns:" Grid.Row="1" Grid.Column="0"/>
                            <CheckBox Grid.Row="1" Grid.Column="1"
                                     IsChecked="{Binding TrackTimePatterns}"
                                     VerticalAlignment="Center"/>
                        </Grid>
                    </GroupBox>

                    <GroupBox Header="Advanced Analytics" Margin="0,0,0,10">
                        <StackPanel Margin="10">
                            <CheckBox Content="Track Command Sequences" 
                                     IsChecked="{Binding TrackCommandSequences}"
                                     Margin="0,0,0,5"/>
                            <CheckBox Content="Show Usage Statistics" 
                                     IsChecked="{Binding ShowUsageStatistics}"
                                     Margin="0,0,0,5"/>
                            <CheckBox Content="Predict Next Command" 
                                     IsChecked="{Binding PredictNextCommand}"/>
                            <CheckBox Content="Sync with AutoCAD Window" 
                                     IsChecked="{Binding SynchronizeWithAutoCAD}"
                                     Margin="0,5,0,0"/>
                        </StackPanel>
                    </GroupBox>
                </StackPanel>
            </TabItem>

            <!-- Profiles Tab -->
            <TabItem Header="Profiles">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <ListBox Grid.Row="0" 
                            ItemsSource="{Binding Profiles}"
                            SelectedItem="{Binding SelectedProfile}"
                            Margin="0,0,0,10"/>

                    <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Center">
                        <Button Content="New Profile" Width="100" Margin="5" Click="NewProfile_Click"/>
                        <Button Content="Delete Profile" Width="100" Margin="5" Click="DeleteProfile_Click"/>
                        <Button Content="Export Profile" Width="100" Margin="5" Click="ExportProfile_Click"/>
                        <Button Content="Import Profile" Width="100" Margin="5" Click="ImportProfile_Click"/>
                    </StackPanel>
                </Grid>
            </TabItem>

            <!-- Shortcuts Tab -->
            <TabItem Header="Shortcuts">
                <ScrollViewer>
                    <StackPanel Margin="10">
                        <TextBlock Text="Keyboard Shortcuts" FontWeight="Bold" Margin="0,0,0,10"/>
                        <TextBlock Text="3x3 Grid Layout (Q-W-E, A-S-D, Z-X-C)" FontStyle="Italic" Margin="0,0,0,5" Foreground="Gray"/>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="150"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="25"/>
                                <RowDefinition Height="25"/>
                                <RowDefinition Height="25"/>
                                <RowDefinition Height="25"/>
                                <RowDefinition Height="25"/>
                                <RowDefinition Height="25"/>
                                <RowDefinition Height="25"/>
                                <RowDefinition Height="25"/>
                                <RowDefinition Height="25"/>
                            </Grid.RowDefinitions>

                            <TextBlock Text="Ctrl+Q" Grid.Row="0" Grid.Column="0"/>
                            <TextBlock Text="Execute item 1" Grid.Row="0" Grid.Column="1"/>
                            
                            <TextBlock Text="Ctrl+W" Grid.Row="1" Grid.Column="0"/>
                            <TextBlock Text="Execute item 2" Grid.Row="1" Grid.Column="1"/>
                            
                            <TextBlock Text="Ctrl+E" Grid.Row="2" Grid.Column="0"/>
                            <TextBlock Text="Execute item 3" Grid.Row="2" Grid.Column="1"/>
                            
                            <TextBlock Text="Ctrl+A" Grid.Row="3" Grid.Column="0"/>
                            <TextBlock Text="Execute item 4" Grid.Row="3" Grid.Column="1"/>
                            
                            <TextBlock Text="Ctrl+S" Grid.Row="4" Grid.Column="0"/>
                            <TextBlock Text="Execute item 5" Grid.Row="4" Grid.Column="1"/>
                            
                            <TextBlock Text="Ctrl+D" Grid.Row="5" Grid.Column="0"/>
                            <TextBlock Text="Execute item 6" Grid.Row="5" Grid.Column="1"/>
                            
                            <TextBlock Text="Ctrl+Z" Grid.Row="6" Grid.Column="0"/>
                            <TextBlock Text="Execute item 7" Grid.Row="6" Grid.Column="1"/>
                            
                            <TextBlock Text="Ctrl+X" Grid.Row="7" Grid.Column="0"/>
                            <TextBlock Text="Execute item 8" Grid.Row="7" Grid.Column="1"/>
                            
                            <TextBlock Text="Ctrl+C" Grid.Row="8" Grid.Column="0"/>
                            <TextBlock Text="Execute item 9" Grid.Row="8" Grid.Column="1"/>
                        </Grid>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
        </TabControl>

        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
            <Button Content="OK" Width="75" Margin="5" Click="OK_Click" IsDefault="True"/>
            <Button Content="Cancel" Width="75" Margin="5" Click="Cancel_Click" IsCancel="True"/>
            <Button Content="Apply" Width="75" Margin="5" Click="Apply_Click"/>
        </StackPanel>
    </Grid>
</Window>